CMAKE_MINIMUM_REQUIRED(VERSION 2.6)
OPTION(BUILD_EXAMPLES "Build the examples" ON)

MACRO(EXAMPLE desc bname name sname)
    OPTION(BUILD_EXAMPLE_${bname} "Build the ${desc} example" ON)
    IF(BUILD_EXAMPLE_${bname})
        PROJECT(Example-${name})
        ADD_DEPENDENCIES(examples ${PROJECT_NAME})

        ADD_EXECUTABLE(${PROJECT_NAME} ${sname})
        TARGET_LINK_LIBRARIES(${PROJECT_NAME} SIEGE ${AUX_LIBRARIES})

		IF(INSTALL_EXAMPLES)
			INSTALL(TARGETS ${PROJECT_NAME} DESTINATION bin)
		ENDIF(INSTALL_EXAMPLES)
    ENDIF(BUILD_EXAMPLE_${bname})
ENDMACRO(EXAMPLE)

IF(BUILD_EXAMPLES)
    ADD_CUSTOM_TARGET(examples)

    EXAMPLE("A*" ASTAR AStar astar)
    EXAMPLE("audio" AUDIO Audio audio)
    EXAMPLE("collision detection" COLDET Coldet coldet)
    EXAMPLE("draw" DRAW Draw draw)
    EXAMPLE("emitter" EMITTER Emitter emitter)
    EXAMPLE("gradient" GRADIENT Gradient gradient)
    EXAMPLE("minimal" MINIMAL Minimal minimal)
    EXAMPLE("sprite" SPRITE Sprite sprite)
    EXAMPLE("text" TEXT Text text)
    EXAMPLE("physics" PHYSICS Physics physics)
    EXAMPLE("pyramid" PYRAMID Pyramid pyramid)
    EXAMPLE("shadow" SHADOW Shadow shadow)
    EXAMPLE("demo" DEMO Demo demo)
    EXAMPLE("surface" SURFACE Surface surface)
    EXAMPLE("thread" THREAD Thread thread)
ENDIF(BUILD_EXAMPLES)
