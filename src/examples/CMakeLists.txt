CMAKE_MINIMUM_REQUIRED(VERSION 2.6)
OPTION(BUILD_EXAMPLES "Build the examples" ON)

IF(BUILD_EXAMPLES)
    ADD_CUSTOM_TARGET(examples)

    OPTION(BUILD_EXAMPLE_SPRITE "Build the sprite example" ON)
    IF(BUILD_EXAMPLE_SPRITE)
        PROJECT(Example-Sprite)
        ADD_DEPENDENCIES(examples ${PROJECT_NAME})
    
        ADD_EXECUTABLE(${PROJECT_NAME} sprite)
        TARGET_LINK_LIBRARIES(${PROJECT_NAME} SIEGE)
        IF(UNIX)
            TARGET_LINK_LIBRARIES(${PROJECT_NAME} dl m)
        ENDIF(UNIX)
        
        INSTALL(TARGETS ${PROJECT_NAME} DESTINATION bin)
    ENDIF(BUILD_EXAMPLE_SPRITE)

    OPTION(BUILD_EXAMPLE_TEXT "Build the text example" ON)
    IF(BUILD_EXAMPLE_TEXT)
        PROJECT(Example-Text)
        ADD_DEPENDENCIES(examples ${PROJECT_NAME})
    
        ADD_EXECUTABLE(${PROJECT_NAME} text)
        TARGET_LINK_LIBRARIES(${PROJECT_NAME} SIEGE)
        IF(UNIX)
            TARGET_LINK_LIBRARIES(${PROJECT_NAME} dl m)
        ENDIF(UNIX)
        
        INSTALL(TARGETS ${PROJECT_NAME} DESTINATION bin)
    ENDIF(BUILD_EXAMPLE_TEXT)

    OPTION(BUILD_EXAMPLE_PHYSICS "Build the physics example" ON)
    IF(BUILD_EXAMPLE_PHYSICS)
        PROJECT(Example-Physics)
        ADD_DEPENDENCIES(examples ${PROJECT_NAME})
    
        ADD_EXECUTABLE(${PROJECT_NAME} physics)
        TARGET_LINK_LIBRARIES(${PROJECT_NAME} SIEGE)
        IF(UNIX)
            TARGET_LINK_LIBRARIES(${PROJECT_NAME} dl m)
        ENDIF(UNIX)
        
        INSTALL(TARGETS ${PROJECT_NAME} DESTINATION bin)
    ENDIF(BUILD_EXAMPLE_PHYSICS)
ENDIF(BUILD_EXAMPLES)
